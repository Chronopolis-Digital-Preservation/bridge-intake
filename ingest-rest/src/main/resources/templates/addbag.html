<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Chronopolis Ingestion Service</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <script src="webjars/jquery/2.1.1/jquery.min.js"/>
    <link href="../static/css/bootstrap.min.css"
          th:href="@{/css/bootstrap.min.css}"
          rel="stylesheet"/>
    <link href="../css/nav.css"
          th:href="@{/css/nav.css}"
          rel="stylesheet" type="text/css"/>

</head>
<body>
    <header th:replace="layout :: head"></header>
    <div th:replace="layout :: left"></div>
    <div class="content">
    <form enctype="application/json" method="post" name="ingest">
        <div><label>Bag Name: <input type="text" name="name" placeholder="bag-name"/></label></div>
        <div><label>Depositor: <input type="text" name="depositor" placeholder="depositor-name"/></label></div>
        <div><label>Location: <input type="text" name="location" placeholder="depositor-name/bag-name"/></label></div>

        <!--@thymesVar id="nodes" type="List<Node>"-->
        <!--@thymesVar id="node" type="org.chronopolis.rest.entities.Node"-->
        <div th:each="node: ${nodes}">
            <div><label th:text="'Replicate to ' + ${node.username}"/><input type="checkbox" name="replicatingNodes" th:value="${node.username}"/></div>
        </div>
        <input type="submit" value="Create Bag"/> <!-- onclick="submit()"/> -->
    </form>
        </div>
<!--
    <script type="text/javascript">
        $("#ingest").submit(function(event) {
            event.preventDefault();
            var data = JSON.stringify($("#ingest").serializeArray);
            console.log("Submitting " + data)

            $.ajax({
                type: "POST",
                url: "/api/bags",
                data: data,
                dataType: "json",
                contentType: "application/json"
            });
        });
    </script>
    -->
</body>
</html>