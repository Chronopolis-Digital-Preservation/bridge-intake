<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <title>Chronopolis Ingestion Service</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <!-- <script src="webjars/jquery/2.1.1/jquery.min.js"/> -->
    <link href="../static/css/bootstrap.min.css"
          th:href="@{/css/bootstrap.min.css}"
          rel="stylesheet"/>
    <link href="../static/css/bootstrap-responsive.min.css"
          th:href="@{/css/bootstrap-responsive.min.css}"
          rel="stylesheet"/>
</head>
<body>
<div class="container-fluid">
    <div th:include="layout :: left"></div>
    <div th:include="fragments/users :: table"></div>

    <div sec:authorize="hasRole('ROLE_ADMIN')">
        <h4>Add New User</h4>
        <form enctype="application/json" method="post" name="ingest" action="/users/add" th:action="@{/users/add}">
            <div><label>Username: <input type="text" name="username" placeholder="node-name"/></label></div>
            <div><label>Password: <input type="text" name="password" placeholder="temp-password"/></label></div>
            <div><label>Admin: <input type="checkbox" name="admin"/></label></div>
            <div><label>Is a Node: <input type="checkbox" name="node"/></label></div>
            <input type="submit" value="Create User"/>
        </form>
    </div>

    <div>
        <h4>Update Password</h4>
        <form enctype="application/json" method="post" name="ingest" action="/users/update" th:action="@{/users/update}">
            <div><label>Current Password: <input type="password" name="oldPassword" placeholder="current-password"/></label></div>
            <div><label>New Password: <input type="password" name="newPassword" placeholder="new-password"/></label></div>
            <input type="submit" value="Create Bag"/>
        </form>
    </div>

</div>
</body>
</html>